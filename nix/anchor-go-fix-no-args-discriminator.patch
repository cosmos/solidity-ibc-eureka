--- a/generator/instructions.go
+++ b/generator/instructions.go
@@ -99,22 +99,23 @@
 						returnsCode.Error()
 					}).BlockFunc(
 					func(body *Group) {
-						if len(instruction.Args) > 0 {
-							body.Id("buf__").Op(":=").New(Qual("bytes", "Buffer"))
-							body.Id("enc__").Op(":=").Qual(PkgBinary, "NewBorshEncoder").Call(Id("buf__"))
+						// Always create buffer and encoder (discriminator required even for no-arg instructions)
+						body.Id("buf__").Op(":=").New(Qual("bytes", "Buffer"))
+						body.Id("enc__").Op(":=").Qual(PkgBinary, "NewBorshEncoder").Call(Id("buf__"))
 
-							{
-								// write the discriminator
-								body.Line().Comment("Encode the instruction discriminator.")
-								discriminatorName := FormatInstructionDiscriminatorName(instruction.Name)
-								body.Err().Op(":=").Id("enc__").Dot("WriteBytes").Call(Id(discriminatorName).Index(Op(":")), False())
-								body.If(Err().Op("!=").Nil()).Block(
-									Return(
-										Nil(),
-										Qual("fmt", "Errorf").Call(Lit("failed to write instruction discriminator: %w"), Err()),
-									),
-								)
-							}
+						{
+							// write the discriminator
+							body.Line().Comment("Encode the instruction discriminator.")
+							discriminatorName := FormatInstructionDiscriminatorName(instruction.Name)
+							body.Err().Op(":=").Id("enc__").Dot("WriteBytes").Call(Id(discriminatorName).Index(Op(":")), False())
+							body.If(Err().Op("!=").Nil()).Block(
+								Return(
+									Nil(),
+									Qual("fmt", "Errorf").Call(Lit("failed to write instruction discriminator: %w"), Err()),
+								),
+							)
+						}
+						if len(instruction.Args) > 0 {
 							// for _, param := range instruction.Args {
 							// 	paramName := formatParamName(param.Name)
 							// 	isComplexEnum(param.Ty)
@@ -223,11 +224,8 @@
 										ListMultiline(func(gg *Group) {
 											gg.Id("ProgramID")
 											gg.Id("accounts__")
-											if len(instruction.Args) > 0 {
-												gg.Id("buf__").Dot("Bytes").Call()
-											} else {
-												gg.Nil() // No arguments to encode.
-											}
+											// Always include discriminator bytes
+											gg.Id("buf__").Dot("Bytes").Call()
 										}),
 									)
 								},
