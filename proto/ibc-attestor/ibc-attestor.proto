syntax = "proto3";

package ibc_attestor;

import "attestation.proto";

// Service definition for retrieving attestations.
service AttestationService {
  // Retrieves an attestation for a state at a given height.
  rpc StateAttestation(StateAttestationRequest)
    returns (StateAttestationResponse);

  // Retrieves an attestation for a set of packets at a given height.
  rpc PacketAttestation(PacketAttestationRequest)
    returns (PacketAttestationResponse);
}

// Request message for getting an attestation for a state at a given height.
message StateAttestationRequest {
  // Block height to start from.
  uint64 height = 1;
}

// Response message for getting an attestation for a state at a given height.
message StateAttestationResponse {
  // The attestation
  Attestation attestation = 1;
}

// Request message for getting an attestation for a set of packets at a given height.
message PacketAttestationRequest {
  // The packets to attest to
  repeated bytes packets = 1;
  // Optional height to attest to
  uint64 height = 2;
}

// Response message for getting an attestation for a set of packets at a given height.
message PacketAttestationResponse {
  // The attestation
  Attestation attestation = 1;
}