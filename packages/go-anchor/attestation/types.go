// Code generated by https://github.com/gagliardetto/anchor-go. DO NOT EDIT.
// This file contains parsers for the types defined in the IDL.

package attestation

import (
	"bytes"
	"fmt"
	errors "github.com/gagliardetto/anchor-go/errors"
	binary "github.com/gagliardetto/binary"
	solanago "github.com/gagliardetto/solana-go"
)

// Event emitted when misbehaviour is detected during client update
type AttestationEventsMisbehaviourDetected struct {
	// The client ID where misbehaviour was detected
	ClientId string `json:"clientId"`

	// The height at which conflicting timestamps were submitted
	Height uint64 `json:"height"`

	// The existing timestamp stored for this height
	ExistingTimestamp uint64 `json:"existingTimestamp"`

	// The new conflicting timestamp submitted
	ConflictingTimestamp uint64 `json:"conflictingTimestamp"`
}

func (obj AttestationEventsMisbehaviourDetected) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `ClientId`:
	err = encoder.Encode(obj.ClientId)
	if err != nil {
		return errors.NewField("ClientId", err)
	}
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `ExistingTimestamp`:
	err = encoder.Encode(obj.ExistingTimestamp)
	if err != nil {
		return errors.NewField("ExistingTimestamp", err)
	}
	// Serialize `ConflictingTimestamp`:
	err = encoder.Encode(obj.ConflictingTimestamp)
	if err != nil {
		return errors.NewField("ConflictingTimestamp", err)
	}
	return nil
}

func (obj AttestationEventsMisbehaviourDetected) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationEventsMisbehaviourDetected: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationEventsMisbehaviourDetected) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `ClientId`:
	err = decoder.Decode(&obj.ClientId)
	if err != nil {
		return errors.NewField("ClientId", err)
	}
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `ExistingTimestamp`:
	err = decoder.Decode(&obj.ExistingTimestamp)
	if err != nil {
		return errors.NewField("ExistingTimestamp", err)
	}
	// Deserialize `ConflictingTimestamp`:
	err = decoder.Decode(&obj.ConflictingTimestamp)
	if err != nil {
		return errors.NewField("ConflictingTimestamp", err)
	}
	return nil
}

func (obj *AttestationEventsMisbehaviourDetected) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationEventsMisbehaviourDetected: %w", err)
	}
	return nil
}

func UnmarshalAttestationEventsMisbehaviourDetected(buf []byte) (*AttestationEventsMisbehaviourDetected, error) {
	obj := new(AttestationEventsMisbehaviourDetected)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Parameters for `update_client` instruction
type AttestationInstructionsUpdateClientUpdateClientParams struct {
	Proof []byte `json:"proof"`
}

func (obj AttestationInstructionsUpdateClientUpdateClientParams) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Proof`:
	err = encoder.Encode(obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	return nil
}

func (obj AttestationInstructionsUpdateClientUpdateClientParams) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationInstructionsUpdateClientUpdateClientParams: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationInstructionsUpdateClientUpdateClientParams) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Proof`:
	err = decoder.Decode(&obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	return nil
}

func (obj *AttestationInstructionsUpdateClientUpdateClientParams) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationInstructionsUpdateClientUpdateClientParams: %w", err)
	}
	return nil
}

func UnmarshalAttestationInstructionsUpdateClientUpdateClientParams(buf []byte) (*AttestationInstructionsUpdateClientUpdateClientParams, error) {
	obj := new(AttestationInstructionsUpdateClientUpdateClientParams)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Storage for consensus state at a specific height
type AttestationStateConsensusStateStore struct {
	Height         uint64                         `json:"height"`
	ConsensusState AttestationTypesConsensusState `json:"consensusState"`
}

func (obj AttestationStateConsensusStateStore) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `ConsensusState`:
	err = encoder.Encode(obj.ConsensusState)
	if err != nil {
		return errors.NewField("ConsensusState", err)
	}
	return nil
}

func (obj AttestationStateConsensusStateStore) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationStateConsensusStateStore: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationStateConsensusStateStore) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `ConsensusState`:
	err = decoder.Decode(&obj.ConsensusState)
	if err != nil {
		return errors.NewField("ConsensusState", err)
	}
	return nil
}

func (obj *AttestationStateConsensusStateStore) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationStateConsensusStateStore: %w", err)
	}
	return nil
}

func UnmarshalAttestationStateConsensusStateStore(buf []byte) (*AttestationStateConsensusStateStore, error) {
	obj := new(AttestationStateConsensusStateStore)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// App state for access control
type AttestationTypesAppState struct {
	Version       SolanaIbcTypesAttestationAccountVersion `json:"version"`
	AccessManager solanago.PublicKey                      `json:"accessManager"`
	Reserved      [256]uint8                              `json:"reserved"`
}

func (obj AttestationTypesAppState) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Version`:
	err = encoder.Encode(obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Serialize `AccessManager`:
	err = encoder.Encode(obj.AccessManager)
	if err != nil {
		return errors.NewField("AccessManager", err)
	}
	// Serialize `Reserved`:
	err = encoder.Encode(obj.Reserved)
	if err != nil {
		return errors.NewField("Reserved", err)
	}
	return nil
}

func (obj AttestationTypesAppState) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationTypesAppState: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationTypesAppState) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Version`:
	err = decoder.Decode(&obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Deserialize `AccessManager`:
	err = decoder.Decode(&obj.AccessManager)
	if err != nil {
		return errors.NewField("AccessManager", err)
	}
	// Deserialize `Reserved`:
	err = decoder.Decode(&obj.Reserved)
	if err != nil {
		return errors.NewField("Reserved", err)
	}
	return nil
}

func (obj *AttestationTypesAppState) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationTypesAppState: %w", err)
	}
	return nil
}

func UnmarshalAttestationTypesAppState(buf []byte) (*AttestationTypesAppState, error) {
	obj := new(AttestationTypesAppState)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Client state for the attestation light client
type AttestationTypesClientState struct {
	Version  SolanaIbcTypesAttestationAccountVersion `json:"version"`
	ClientId string                                  `json:"clientId"`

	// Ethereum addresses of trusted attestors (20 bytes each)
	AttestorAddresses [][20]uint8 `json:"attestorAddresses"`
	MinRequiredSigs   uint8       `json:"minRequiredSigs"`
	LatestHeight      uint64      `json:"latestHeight"`
	IsFrozen          bool        `json:"isFrozen"`
}

func (obj AttestationTypesClientState) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Version`:
	err = encoder.Encode(obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Serialize `ClientId`:
	err = encoder.Encode(obj.ClientId)
	if err != nil {
		return errors.NewField("ClientId", err)
	}
	// Serialize `AttestorAddresses`:
	err = encoder.Encode(obj.AttestorAddresses)
	if err != nil {
		return errors.NewField("AttestorAddresses", err)
	}
	// Serialize `MinRequiredSigs`:
	err = encoder.Encode(obj.MinRequiredSigs)
	if err != nil {
		return errors.NewField("MinRequiredSigs", err)
	}
	// Serialize `LatestHeight`:
	err = encoder.Encode(obj.LatestHeight)
	if err != nil {
		return errors.NewField("LatestHeight", err)
	}
	// Serialize `IsFrozen`:
	err = encoder.Encode(obj.IsFrozen)
	if err != nil {
		return errors.NewField("IsFrozen", err)
	}
	return nil
}

func (obj AttestationTypesClientState) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationTypesClientState: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationTypesClientState) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Version`:
	err = decoder.Decode(&obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Deserialize `ClientId`:
	err = decoder.Decode(&obj.ClientId)
	if err != nil {
		return errors.NewField("ClientId", err)
	}
	// Deserialize `AttestorAddresses`:
	err = decoder.Decode(&obj.AttestorAddresses)
	if err != nil {
		return errors.NewField("AttestorAddresses", err)
	}
	// Deserialize `MinRequiredSigs`:
	err = decoder.Decode(&obj.MinRequiredSigs)
	if err != nil {
		return errors.NewField("MinRequiredSigs", err)
	}
	// Deserialize `LatestHeight`:
	err = decoder.Decode(&obj.LatestHeight)
	if err != nil {
		return errors.NewField("LatestHeight", err)
	}
	// Deserialize `IsFrozen`:
	err = decoder.Decode(&obj.IsFrozen)
	if err != nil {
		return errors.NewField("IsFrozen", err)
	}
	return nil
}

func (obj *AttestationTypesClientState) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationTypesClientState: %w", err)
	}
	return nil
}

func UnmarshalAttestationTypesClientState(buf []byte) (*AttestationTypesClientState, error) {
	obj := new(AttestationTypesClientState)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Consensus state for the attestation light client
type AttestationTypesConsensusState struct {
	Height uint64 `json:"height"`

	// Timestamp in Unix seconds
	Timestamp uint64 `json:"timestamp"`
}

func (obj AttestationTypesConsensusState) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `Timestamp`:
	err = encoder.Encode(obj.Timestamp)
	if err != nil {
		return errors.NewField("Timestamp", err)
	}
	return nil
}

func (obj AttestationTypesConsensusState) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationTypesConsensusState: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationTypesConsensusState) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `Timestamp`:
	err = decoder.Decode(&obj.Timestamp)
	if err != nil {
		return errors.NewField("Timestamp", err)
	}
	return nil
}

func (obj *AttestationTypesConsensusState) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationTypesConsensusState: %w", err)
	}
	return nil
}

func UnmarshalAttestationTypesConsensusState(buf []byte) (*AttestationTypesConsensusState, error) {
	obj := new(AttestationTypesConsensusState)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Standard message structure for membership verification
// All light clients must accept this structure
type Ics25HandlerMembershipMsg struct {
	// The height at which to verify
	Height uint64 `json:"height"`

	// The merkle proof
	Proof []byte `json:"proof"`

	// The merkle path to the value
	Path [][]byte `json:"path"`

	// The value to verify
	Value []byte `json:"value"`
}

func (obj Ics25HandlerMembershipMsg) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `Proof`:
	err = encoder.Encode(obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Serialize `Path`:
	err = encoder.Encode(obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	// Serialize `Value`:
	err = encoder.Encode(obj.Value)
	if err != nil {
		return errors.NewField("Value", err)
	}
	return nil
}

func (obj Ics25HandlerMembershipMsg) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding Ics25HandlerMembershipMsg: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *Ics25HandlerMembershipMsg) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `Proof`:
	err = decoder.Decode(&obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Deserialize `Path`:
	err = decoder.Decode(&obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	// Deserialize `Value`:
	err = decoder.Decode(&obj.Value)
	if err != nil {
		return errors.NewField("Value", err)
	}
	return nil
}

func (obj *Ics25HandlerMembershipMsg) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling Ics25HandlerMembershipMsg: %w", err)
	}
	return nil
}

func UnmarshalIcs25HandlerMembershipMsg(buf []byte) (*Ics25HandlerMembershipMsg, error) {
	obj := new(Ics25HandlerMembershipMsg)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Standard message structure for non-membership verification
// All light clients must accept this structure
type Ics25HandlerNonMembershipMsg struct {
	// The height at which to verify
	Height uint64 `json:"height"`

	// The merkle proof
	Proof []byte `json:"proof"`

	// The merkle path to the value
	Path [][]byte `json:"path"`
}

func (obj Ics25HandlerNonMembershipMsg) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `Proof`:
	err = encoder.Encode(obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Serialize `Path`:
	err = encoder.Encode(obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	return nil
}

func (obj Ics25HandlerNonMembershipMsg) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding Ics25HandlerNonMembershipMsg: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *Ics25HandlerNonMembershipMsg) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `Proof`:
	err = decoder.Decode(&obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Deserialize `Path`:
	err = decoder.Decode(&obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	return nil
}

func (obj *Ics25HandlerNonMembershipMsg) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling Ics25HandlerNonMembershipMsg: %w", err)
	}
	return nil
}

func UnmarshalIcs25HandlerNonMembershipMsg(buf []byte) (*Ics25HandlerNonMembershipMsg, error) {
	obj := new(Ics25HandlerNonMembershipMsg)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Account schema version for upgrades
type SolanaIbcTypesAttestationAccountVersion binary.BorshEnum

const (
	SolanaIbcTypesAttestationAccountVersion_V1 SolanaIbcTypesAttestationAccountVersion = iota
)

func (value SolanaIbcTypesAttestationAccountVersion) String() string {
	switch value {
	case SolanaIbcTypesAttestationAccountVersion_V1:
		return "V1"
	default:
		return ""
	}
}
