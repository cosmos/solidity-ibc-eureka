// Code generated by https://github.com/gagliardetto/anchor-go. DO NOT EDIT.
// This file contains parsers for the types defined in the IDL.

package attestation

import (
	"bytes"
	"fmt"
	errors "github.com/gagliardetto/anchor-go/errors"
	binary "github.com/gagliardetto/binary"
	solanago "github.com/gagliardetto/solana-go"
)

type AttestationEventsAccessManagerUpdated struct {
	OldAccessManager solanago.PublicKey `json:"oldAccessManager"`
	NewAccessManager solanago.PublicKey `json:"newAccessManager"`
}

func (obj AttestationEventsAccessManagerUpdated) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `OldAccessManager`:
	err = encoder.Encode(obj.OldAccessManager)
	if err != nil {
		return errors.NewField("OldAccessManager", err)
	}
	// Serialize `NewAccessManager`:
	err = encoder.Encode(obj.NewAccessManager)
	if err != nil {
		return errors.NewField("NewAccessManager", err)
	}
	return nil
}

func (obj AttestationEventsAccessManagerUpdated) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationEventsAccessManagerUpdated: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationEventsAccessManagerUpdated) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `OldAccessManager`:
	err = decoder.Decode(&obj.OldAccessManager)
	if err != nil {
		return errors.NewField("OldAccessManager", err)
	}
	// Deserialize `NewAccessManager`:
	err = decoder.Decode(&obj.NewAccessManager)
	if err != nil {
		return errors.NewField("NewAccessManager", err)
	}
	return nil
}

func (obj *AttestationEventsAccessManagerUpdated) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationEventsAccessManagerUpdated: %w", err)
	}
	return nil
}

func UnmarshalAttestationEventsAccessManagerUpdated(buf []byte) (*AttestationEventsAccessManagerUpdated, error) {
	obj := new(AttestationEventsAccessManagerUpdated)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Emitted when conflicting timestamps are submitted for the same height.
type AttestationEventsMisbehaviourDetected struct {
	Height               uint64 `json:"height"`
	ExistingTimestamp    uint64 `json:"existingTimestamp"`
	ConflictingTimestamp uint64 `json:"conflictingTimestamp"`
}

func (obj AttestationEventsMisbehaviourDetected) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `ExistingTimestamp`:
	err = encoder.Encode(obj.ExistingTimestamp)
	if err != nil {
		return errors.NewField("ExistingTimestamp", err)
	}
	// Serialize `ConflictingTimestamp`:
	err = encoder.Encode(obj.ConflictingTimestamp)
	if err != nil {
		return errors.NewField("ConflictingTimestamp", err)
	}
	return nil
}

func (obj AttestationEventsMisbehaviourDetected) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationEventsMisbehaviourDetected: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationEventsMisbehaviourDetected) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `ExistingTimestamp`:
	err = decoder.Decode(&obj.ExistingTimestamp)
	if err != nil {
		return errors.NewField("ExistingTimestamp", err)
	}
	// Deserialize `ConflictingTimestamp`:
	err = decoder.Decode(&obj.ConflictingTimestamp)
	if err != nil {
		return errors.NewField("ConflictingTimestamp", err)
	}
	return nil
}

func (obj *AttestationEventsMisbehaviourDetected) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationEventsMisbehaviourDetected: %w", err)
	}
	return nil
}

func UnmarshalAttestationEventsMisbehaviourDetected(buf []byte) (*AttestationEventsMisbehaviourDetected, error) {
	obj := new(AttestationEventsMisbehaviourDetected)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Parameters for `update_client` instruction
type AttestationInstructionsUpdateClientUpdateClientParams struct {
	Proof []byte `json:"proof"`
}

func (obj AttestationInstructionsUpdateClientUpdateClientParams) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Proof`:
	err = encoder.Encode(obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	return nil
}

func (obj AttestationInstructionsUpdateClientUpdateClientParams) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationInstructionsUpdateClientUpdateClientParams: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationInstructionsUpdateClientUpdateClientParams) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Proof`:
	err = decoder.Decode(&obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	return nil
}

func (obj *AttestationInstructionsUpdateClientUpdateClientParams) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationInstructionsUpdateClientUpdateClientParams: %w", err)
	}
	return nil
}

func UnmarshalAttestationInstructionsUpdateClientUpdateClientParams(buf []byte) (*AttestationInstructionsUpdateClientUpdateClientParams, error) {
	obj := new(AttestationInstructionsUpdateClientUpdateClientParams)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// On-chain PDA storing the consensus state for a specific block height.
//
// Created or updated when enough attestor signatures confirm a new block.
// The ICS26 router reads this account to verify packet membership proofs
// against the confirmed state. The block height is also encoded in the
// PDA seeds so each height maps to exactly one account.
type AttestationStateConsensusStateStore struct {
	// Block height this consensus state corresponds to.
	Height uint64 `json:"height"`

	// Unix timestamp in seconds for this block height.
	Timestamp uint64 `json:"timestamp"`
}

func (obj AttestationStateConsensusStateStore) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `Timestamp`:
	err = encoder.Encode(obj.Timestamp)
	if err != nil {
		return errors.NewField("Timestamp", err)
	}
	return nil
}

func (obj AttestationStateConsensusStateStore) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationStateConsensusStateStore: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationStateConsensusStateStore) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `Timestamp`:
	err = decoder.Decode(&obj.Timestamp)
	if err != nil {
		return errors.NewField("Timestamp", err)
	}
	return nil
}

func (obj *AttestationStateConsensusStateStore) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationStateConsensusStateStore: %w", err)
	}
	return nil
}

func UnmarshalAttestationStateConsensusStateStore(buf []byte) (*AttestationStateConsensusStateStore, error) {
	obj := new(AttestationStateConsensusStateStore)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Global attestation program configuration.
//
// Singleton PDA that links the attestation program to its access manager
// for admin-gated operations such as updating the attestor set or freezing
// the client.
type AttestationTypesAppState struct {
	Version SolanaIbcTypesAttestationAccountVersion `json:"version"`

	// Program ID of the access manager that controls admin operations.
	AccessManager solanago.PublicKey `json:"accessManager"`

	// Reserved for future upgrades without account migration.
	Reserved [256]uint8 `json:"reserved"`
}

func (obj AttestationTypesAppState) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Version`:
	err = encoder.Encode(obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Serialize `AccessManager`:
	err = encoder.Encode(obj.AccessManager)
	if err != nil {
		return errors.NewField("AccessManager", err)
	}
	// Serialize `Reserved`:
	err = encoder.Encode(obj.Reserved)
	if err != nil {
		return errors.NewField("Reserved", err)
	}
	return nil
}

func (obj AttestationTypesAppState) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationTypesAppState: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationTypesAppState) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Version`:
	err = decoder.Decode(&obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Deserialize `AccessManager`:
	err = decoder.Decode(&obj.AccessManager)
	if err != nil {
		return errors.NewField("AccessManager", err)
	}
	// Deserialize `Reserved`:
	err = decoder.Decode(&obj.Reserved)
	if err != nil {
		return errors.NewField("Reserved", err)
	}
	return nil
}

func (obj *AttestationTypesAppState) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationTypesAppState: %w", err)
	}
	return nil
}

func UnmarshalAttestationTypesAppState(buf []byte) (*AttestationTypesAppState, error) {
	obj := new(AttestationTypesAppState)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Attestation light client state.
//
// Holds the set of trusted attestor Ethereum addresses and the signature
// threshold required to accept a new consensus state. Used by the ICS26
// router to verify membership proofs that arrive as signed attestations
// instead of ZK proofs.
type AttestationTypesClientState struct {
	Version SolanaIbcTypesAttestationAccountVersion `json:"version"`

	// 20-byte Ethereum addresses of trusted attestors.
	AttestorAddresses [][20]uint8 `json:"attestorAddresses"`

	// Minimum number of valid attestor signatures required for verification.
	MinRequiredSigs uint8 `json:"minRequiredSigs"`

	// Highest block height for which a consensus state has been stored.
	LatestHeight uint64 `json:"latestHeight"`

	// Whether the client has been frozen due to misbehaviour detection.
	IsFrozen bool `json:"isFrozen"`
}

func (obj AttestationTypesClientState) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Version`:
	err = encoder.Encode(obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Serialize `AttestorAddresses`:
	err = encoder.Encode(obj.AttestorAddresses)
	if err != nil {
		return errors.NewField("AttestorAddresses", err)
	}
	// Serialize `MinRequiredSigs`:
	err = encoder.Encode(obj.MinRequiredSigs)
	if err != nil {
		return errors.NewField("MinRequiredSigs", err)
	}
	// Serialize `LatestHeight`:
	err = encoder.Encode(obj.LatestHeight)
	if err != nil {
		return errors.NewField("LatestHeight", err)
	}
	// Serialize `IsFrozen`:
	err = encoder.Encode(obj.IsFrozen)
	if err != nil {
		return errors.NewField("IsFrozen", err)
	}
	return nil
}

func (obj AttestationTypesClientState) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding AttestationTypesClientState: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *AttestationTypesClientState) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Version`:
	err = decoder.Decode(&obj.Version)
	if err != nil {
		return errors.NewField("Version", err)
	}
	// Deserialize `AttestorAddresses`:
	err = decoder.Decode(&obj.AttestorAddresses)
	if err != nil {
		return errors.NewField("AttestorAddresses", err)
	}
	// Deserialize `MinRequiredSigs`:
	err = decoder.Decode(&obj.MinRequiredSigs)
	if err != nil {
		return errors.NewField("MinRequiredSigs", err)
	}
	// Deserialize `LatestHeight`:
	err = decoder.Decode(&obj.LatestHeight)
	if err != nil {
		return errors.NewField("LatestHeight", err)
	}
	// Deserialize `IsFrozen`:
	err = decoder.Decode(&obj.IsFrozen)
	if err != nil {
		return errors.NewField("IsFrozen", err)
	}
	return nil
}

func (obj *AttestationTypesClientState) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling AttestationTypesClientState: %w", err)
	}
	return nil
}

func UnmarshalAttestationTypesClientState(buf []byte) (*AttestationTypesClientState, error) {
	obj := new(AttestationTypesClientState)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Standard message structure for membership verification
// All light clients must accept this structure
type Ics25HandlerMembershipMsg struct {
	// The height at which to verify
	Height uint64 `json:"height"`

	// The merkle proof
	Proof []byte `json:"proof"`

	// The merkle path to the value
	Path [][]byte `json:"path"`

	// The value to verify
	Value []byte `json:"value"`
}

func (obj Ics25HandlerMembershipMsg) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `Proof`:
	err = encoder.Encode(obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Serialize `Path`:
	err = encoder.Encode(obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	// Serialize `Value`:
	err = encoder.Encode(obj.Value)
	if err != nil {
		return errors.NewField("Value", err)
	}
	return nil
}

func (obj Ics25HandlerMembershipMsg) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding Ics25HandlerMembershipMsg: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *Ics25HandlerMembershipMsg) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `Proof`:
	err = decoder.Decode(&obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Deserialize `Path`:
	err = decoder.Decode(&obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	// Deserialize `Value`:
	err = decoder.Decode(&obj.Value)
	if err != nil {
		return errors.NewField("Value", err)
	}
	return nil
}

func (obj *Ics25HandlerMembershipMsg) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling Ics25HandlerMembershipMsg: %w", err)
	}
	return nil
}

func UnmarshalIcs25HandlerMembershipMsg(buf []byte) (*Ics25HandlerMembershipMsg, error) {
	obj := new(Ics25HandlerMembershipMsg)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Standard message structure for non-membership verification
// All light clients must accept this structure
type Ics25HandlerNonMembershipMsg struct {
	// The height at which to verify
	Height uint64 `json:"height"`

	// The merkle proof
	Proof []byte `json:"proof"`

	// The merkle path to the value
	Path [][]byte `json:"path"`
}

func (obj Ics25HandlerNonMembershipMsg) MarshalWithEncoder(encoder *binary.Encoder) (err error) {
	// Serialize `Height`:
	err = encoder.Encode(obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Serialize `Proof`:
	err = encoder.Encode(obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Serialize `Path`:
	err = encoder.Encode(obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	return nil
}

func (obj Ics25HandlerNonMembershipMsg) Marshal() ([]byte, error) {
	buf := bytes.NewBuffer(nil)
	encoder := binary.NewBorshEncoder(buf)
	err := obj.MarshalWithEncoder(encoder)
	if err != nil {
		return nil, fmt.Errorf("error while encoding Ics25HandlerNonMembershipMsg: %w", err)
	}
	return buf.Bytes(), nil
}

func (obj *Ics25HandlerNonMembershipMsg) UnmarshalWithDecoder(decoder *binary.Decoder) (err error) {
	// Deserialize `Height`:
	err = decoder.Decode(&obj.Height)
	if err != nil {
		return errors.NewField("Height", err)
	}
	// Deserialize `Proof`:
	err = decoder.Decode(&obj.Proof)
	if err != nil {
		return errors.NewField("Proof", err)
	}
	// Deserialize `Path`:
	err = decoder.Decode(&obj.Path)
	if err != nil {
		return errors.NewField("Path", err)
	}
	return nil
}

func (obj *Ics25HandlerNonMembershipMsg) Unmarshal(buf []byte) error {
	err := obj.UnmarshalWithDecoder(binary.NewBorshDecoder(buf))
	if err != nil {
		return fmt.Errorf("error while unmarshaling Ics25HandlerNonMembershipMsg: %w", err)
	}
	return nil
}

func UnmarshalIcs25HandlerNonMembershipMsg(buf []byte) (*Ics25HandlerNonMembershipMsg, error) {
	obj := new(Ics25HandlerNonMembershipMsg)
	err := obj.Unmarshal(buf)
	if err != nil {
		return nil, err
	}
	return obj, nil
}

// Account schema version for upgrades
type SolanaIbcTypesAttestationAccountVersion binary.BorshEnum

const (
	SolanaIbcTypesAttestationAccountVersion_V1 SolanaIbcTypesAttestationAccountVersion = iota
)

func (value SolanaIbcTypesAttestationAccountVersion) String() string {
	switch value {
	case SolanaIbcTypesAttestationAccountVersion_V1:
		return "V1"
	default:
		return ""
	}
}
