// AUTO-GENERATED - do not edit
// Generated by build.rs from Anchor IDL files

#![allow(non_camel_case_types, unused_imports)]
#![allow(clippy::doc_lazy_continuation, clippy::too_long_first_doc_paragraph)]

use anchor_lang::prelude::*;
use anchor_lang::solana_program::pubkey::Pubkey;

/// Status of a GMP call result.
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub enum CallResultStatus {
    Acknowledgement([u8; 32]),
    Timeout,
}

/// Client-ID-to-light-client mapping with counterparty chain metadata.
/// Created when an admin registers a new IBC client (e.g. an ICS07
/// Tendermint or attestation light client). The router reads this
/// account during `send_packet`, `recv_packet`, `ack_packet` and
/// `timeout_packet` to resolve which light client program to call for
/// proof verification, and to obtain the counterparty chain's client
/// and Merkle prefix information.
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct Client {
    /// Schema version for upgrades
    pub version: SolanaIbcTypes_Router_AccountVersion,
    /// The client identifier
    pub client_id: String,
    /// The program ID of the light client
    pub client_program_id: Pubkey,
    /// Counterparty chain information
    pub counterparty_info: CounterpartyInfo,
    /// Whether the client is active
    pub active: bool,
    /// Reserved space for future fields
    pub _reserved: [u8; 256],
}

/// Per-client packet sequence counter.
/// Tracks the next sequence number to assign when sending a packet
/// through a given client. Each `send_packet` call reads and increments
/// this value to guarantee unique, monotonically increasing sequence
/// numbers for replay protection.
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct ClientSequence {
    /// Schema version for upgrades
    pub version: SolanaIbcTypes_Router_AccountVersion,
    /// Next sequence number for sending packets
    pub next_sequence_send: u64,
    /// Reserved space for future fields
    pub _reserved: [u8; 256],
}

/// Counterparty chain information
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct CounterpartyInfo {
    /// Client ID on the counterparty chain
    pub client_id: String,
    /// Merkle prefix for proof verification
    pub merkle_prefix: Vec<Vec<u8>>,
}

/// Port-to-program mapping for IBC applications.
/// Each registered IBC application (e.g. ICS20 transfer, ICS27 GMP) gets
/// one `IBCApp` PDA derived from its port ID. The router uses this account
/// to look up which program to CPI into when delivering a received packet
/// or forwarding an acknowledgement/timeout to the application layer.
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct IBCApp {
    /// Schema version for upgrades
    pub version: SolanaIbcTypes_Router_AccountVersion,
    /// The port identifier
    pub port_id: String,
    /// The program ID of the IBC application
    pub app_program_id: Pubkey,
    /// Authority that registered this port
    pub authority: Pubkey,
    /// Reserved space for future fields
    pub _reserved: [u8; 256],
}

/// Account schema version
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub enum Ics27Gmp_State_AccountVersion {
    V1,
}

/// Message for onAcknowledgementPacket callback
/// Sent from router to IBC app when an acknowledgement is received
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct OnAcknowledgementPacketMsg {
    pub source_client: String,
    pub dest_client: String,
    pub sequence: u64,
    pub payload: Payload,
    pub acknowledgement: Vec<u8>,
    pub relayer: Pubkey,
}

/// Message for onRecvPacket callback
/// Sent from router to IBC app when a packet is received
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct OnRecvPacketMsg {
    pub source_client: String,
    pub dest_client: String,
    pub sequence: u64,
    pub payload: Payload,
    pub relayer: Pubkey,
}

/// Message for onTimeoutPacket callback
/// Sent from router to IBC app when a packet times out
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct OnTimeoutPacketMsg {
    pub source_client: String,
    pub dest_client: String,
    pub sequence: u64,
    pub payload: Payload,
    pub relayer: Pubkey,
}

/// Payload structure shared between router and IBC apps
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct Payload {
    pub source_port: String,
    pub dest_port: String,
    pub version: String,
    pub encoding: String,
    pub value: Vec<u8>,
}

/// Global ICS26 router configuration.
/// Singleton PDA initialized once during program setup. Stores the link
/// to the access manager for admin-gated operations (e.g. registering
/// clients, migrating light clients) and a schema version for future
/// on-chain migrations.
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct RouterState {
    /// Schema version for upgrades
    pub version: SolanaIbcTypes_Router_AccountVersion,
    /// Access manager program ID for role-based access control
    pub access_manager: Pubkey,
    /// Reserved space for future fields
    pub _reserved: [u8; 256],
}

/// Send call message (unvalidated input from user)
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub struct SendCallMsg {
    /// Source client identifier
    pub source_client: String,
    /// Timeout timestamp (unix seconds)
    pub timeout_timestamp: i64,
    /// Receiver address (string format to support any destination chain)
    pub receiver: String,
    /// Account salt
    pub salt: Vec<u8>,
    /// Call payload (instruction data + accounts)
    pub payload: Vec<u8>,
    /// Optional memo
    pub memo: String,
}

/// Account schema version for upgradability
#[derive(AnchorSerialize, AnchorDeserialize, Clone, Debug)]
pub enum SolanaIbcTypes_Router_AccountVersion {
    V1,
}
